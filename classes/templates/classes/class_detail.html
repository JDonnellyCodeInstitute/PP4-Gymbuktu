{% extends 'base.html' %}
{% block content %}
    <h2>{{ gym_class.name }}</h2>
    <p>{{ gym_class.description }}</p>
    <p>Instructor: {{ gym_class.instructor.name }}</p>
    <p>Date: {{ gym_class.start_time.date }} | Time: {{ gym_class.start_time.time }}</p>
    <p>Slots Available: {{ gym_class.available_slots }}</p>

    {% if has_booking %}
        <form method="post" action="{% url 'cancel_booking' booking_id %}">
            {% csrf_token %}
            <button type="submit">Cancel Booking</button>
        </form>
    {% elif gym_class.available_slots > 0 %}
        <form method="post" action="{% url 'book_class' gym_class.id %}">
            {% csrf_token %}
            <button type="submit">Book This Class</button>
        </form>
    {% else %}
        <p>No slots available.</p>
    {% endif %}
{% endblock %}
